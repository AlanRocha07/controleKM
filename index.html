<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Controle de Quilometragem</title>
<link href="manifest.json" rel="manifest"/>
<meta content="#003366" name="theme-color"/>
<link href="icon-192.png" rel="icon" type="image/png"/>
<link href="icon-192.png" rel="apple-touch-icon"/>
<!-- Estilos omitidos para brevidade -->
</head>
<body>
<!-- Conteúdo do body omitido para brevidade -->
<script>
// ... Código JavaScript omitido até o final do service worker ...

// Service worker
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('service-worker-v12.js').then(reg=>{
    if(reg.waiting){
        reg.waiting.postMessage({type:'SKIP_WAITING'});
    }
    reg.addEventListener('updatefound',()=>{
        const nw = reg.installing;
        nw?.addEventListener('statechange',()=>{
            if(nw.state==='installed' && navigator.serviceWorker.controller){
                // opcional: ação após atualização
            }
        });
    });
    navigator.serviceWorker.addEventListener('controllerchange',()=>{});
  }).catch(()=>{});
}
</script>
</body>
</html>
